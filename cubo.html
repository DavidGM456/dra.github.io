<!DOCTYPE html>
<html>

<head>
    
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="gesture-handler.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;" gesture-detector>
        <a-assets>
            <a-asset-item id="gameboy" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/gameboy.glb?v=1698863322780"></a-asset-item>
	    <a-asset-item id="steam" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/steam_deck_console.glb?v=1698863332145"></a-asset-item>
            <a-asset-item id="xbox" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/xbox_series_x_console.glb?v=1698863339310"></a-asset-item>
            <a-asset-item id="play" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/playstation_2.glb?v=1698863365985"></a-asset-item>
            <a-asset-item id="gamecube" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/nintendo_gamecube.glb?v=1698863370096"></a-asset-item>
          
            <audio id="song" src="gameboy.mp3" preload="auto"></audio>
	    <audio id="song2" src="steam.mp3" preload="auto"></audio>
            <audio id="song3" src="xbox.mp3" preload="auto"></audio>
            <audio id="song4" src="play.mp3" preload="auto"></audio>
            <audio id="song5" src="gamecubo.mp3" preload="auto"></audio>
        </a-assets>
      
        <a-marker
            id= "gamebo"
            type="pattern"
            url= "MARCADOR_GAME_BOY.patt"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
          >
          <a-entity
            gltf-model="#gameboy"
            position="0 1 1"
            scale="0.5 0.5 0.5"
            class="clickable"
            gesture-handler
            soundhandler
          >
          </a-entity>    
        </a-marker>

        <a-marker
            id= "stea"
            type="pattern"
            url= "MARCADOR_STEAM_DESCK.patt"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
         >
        <a-entity
          gltf-model="#steam"
          position="0 1 1"
          scale="0.5 0.5 0.5"
          class="clickable"
          gesture-handler
          soundhandler
        >
        </a-entity>
        </a-marker>
      
        <a-marker
          id= "xbo"
          type="barcode"
          value= "7"
          raycaster="objects: .clickable"
          emitevents="true"
          cursor="fuse: false; rayOrigin: mouse;"
          >
        <a-entity
          gltf-model="#xbox"
          position="0 1 1"
          scale="0.5 0.5 0.5"
          class="clickable"
          gesture-handler
          soundhandler
        >
        </a-entity>
      </a-marker>
      
      <a-marker
  	    id= "pla"
        type="barcode"
	      value= "7"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        >
        <a-entity
          gltf-model="#play"
          position="0 1 1"
          scale="0.5 0.5 0.5"
          class="clickable"
          gesture-handler
          soundhandler
        >
        </a-entity>
      </a-marker>
      
      <a-marker
  	    id= "gamecub"
        type="barcode"
	      value= "7"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        >
        <a-entity
          gltf-model="#gamecube"
          position="0 1 1"
          scale="0.5 0.5 0.5"
          class="clickable"
          gesture-handler
          soundhandler
        >
        </a-entity>
      </a-marker>
	    
    <a-entity id="audio1" sound="src: #sound" autoplay="false"></a-entity>
    <a-entity id="audio2" sound="src: #sound2" autoplay="false"></a-entity>
    <a-entity id="audio3" sound="src: #sound3" autoplay="false"></a-entity>
    <a-entity id="audio4" sound="src: #sound4" autoplay="false"></a-entity>
    <a-entity id="audio5" sound="src: #sound5" autoplay="false"></a-entity>
          <a-entity camera></a-entity>
      </a-scene>
      <script>
    AFRAME.registerComponent('soundhandler', {
      tick: function () {
      var entity = document.querySelector('#audio1');
      var entity2 = document.querySelector('#audio2');
      var entity3 = document.querySelector('#audio3');
      var entity4 = document.querySelector('#audio4');
      var entity5 = document.querySelector('#audio5');
        

      if (document.querySelector('#gamebo').object3D.visible == true) {
        entity2.components.sound.pauseSound();
        entity3.components.sound.pauseSound();
        entity4.components.sound.pauseSound();
        entity5.components.sound.pauseSound();
        entity.components.sound.playSound();

      } if (document.querySelector('#stea').object3D.visible == true) {
         entity.components.sound.pauseSound();
         entity3.components.sound.pauseSound();
         entity4.components.sound.pauseSound();
         entity5.components.sound.pauseSound();
         entity2.components.sound.playSound();
      
        if (document.querySelector('#xbo').object3D.visible == true) {
        entity.components.sound.pauseSound();
        entity2.components.sound.pauseSound();
        entity4.components.sound.pauseSound();
        entity5.components.sound.pauseSound();
        entity3.components.sound.playSound();

      }
        
        if (document.querySelector('#pla').object3D.visible == true) {
         entity.components.sound.pauseSound();
         entity2.components.sound.pauseSound();
         entity3.components.sound.pauseSound();
         entity5.components.sound.pauseSound()
         entity4.components.sound.playSound();

      }
        
        if (document.querySelector('#gamecub').object3D.visible == true) {
         entity.components.sound.pauseSound();
         entity2.components.sound.pauseSound();
         entity3.components.sound.pauseSound();
         entity4.components.sound.pauseSound()
         entity5.components.sound.playSound();
      }
        
      }else{
        entity.components.sound.pauseSound();
        entity2.components.sound.pauseSound();
        entity3.components.sound.pauseSound();
        entity4.components.sound.pauseSound();
        entity5.components.sound.pauseSound();
       }
      }
    });
</script>
</body>

</html>
