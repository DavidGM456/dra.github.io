<!DOCTYPE html>
<html>

<head>
    
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="gesture-handler.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;" gesture-detector>
        <a-assets>
            <a-asset-item id="modelo" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/yellow_gameboy.glb?v=1699056537839"></a-asset-item>
            <a-asset-item id="ciego" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/ciego.glb?v=1701284977866"></a-asset-item>
            <a-asset-item id="gps" src="https://cdn.glitch.me/11da06eb-3feb-4af1-bd25-5f7c1882aac7/gps.obj?v=1701285035141"></a-asset-item>
            <a-asset-item id="celular" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/Celular.glb?v=1701285653947"></a-asset-item>
            <a-asset-item id="lentes" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/Lentes.glb?v=1701285668416"></a-asset-item>
            <a-asset-item id="agudeza" src="https://cdn.glitch.global/11da06eb-3feb-4af1-bd25-5f7c1882aac7/Se%C3%B1or%20con%20lentes.glb?v=1701285671294"></a-asset-item>
            

            <audio id="song"  src=""  preload="auto"></audio>
            <audio id="song2" src="" preload="auto"></audio>
            <audio id="song3" src="" preload="auto"></audio>
            <audio id="song4" src="" preload="auto"></audio>
            <audio id="song5" src="" preload="auto"></audio>
            <audio id="song6" src="" preload="auto"></audio>
        </a-assets>
      
        <a-marker
            id="logo"
            type="barcode"
            value="1"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <a-entity
                gltf-model="#logoo"
                position="0 0 0"
                scale="1 1 1"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>    
            
            <!-- Agregar un elemento de texto con el atributo text -->
            <a-entity
                position="0 0.5 -0.8"  
                text="value: Gameboy; align: center; height: 8;width: 3;"
            ></a-entity>
        </a-marker>

        <a-marker
            id="problema"
            type="barcode"
            value="2"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <a-entity
                gltf-model="#ciego"
                position="0 0 0"
                scale="3 3 3"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>
            
            <!-- Agregar un elemento de texto con el atributo text -->
            <a-entity
                position="0 0.2 -0.5"  
                text="value: Xbox; align: center; width: 3;"
            ></a-entity>
        </a-marker>

        <a-marker
            id="estadistico"
            type="barcode"
            value="3"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <a-entity
                gltf-model="#lentes"
                position="1 -3 1"
                scale="8 8 8"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>
            
            <!-- Agregar un elemento de texto con el atributo text -->
            <a-entity
                position="1 -3.2 0.5"  
                text="value: Steam; align: center; width: 3;"
            ></a-entity>
        </a-marker>

        <a-marker
            id="quees"
            type="barcode"
            value="4"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <a-entity
                gltf-model="#gps"
                position="0 0 0"
                scale="9 9 9"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>

            <a-entity
                gltf-model="#celular"
                position="0 -3 1"
                scale="9 9 9"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>
            
            <!-- Agregar un elemento de texto con el atributo text -->
            <a-entity
                position="0 0.2 -0.5"  
                text="value: PlayStation; align: center; width: 3;"
            ></a-entity>
        </a-marker>
      
        <a-marker
            id="agudezavi"
            type="barcode"
            value="5"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <a-entity
                gltf-model="#agudeza"
                position="0 1 1"
                scale="1 1 1"
                class="clickable"
                gesture-handler
                soundhandler
            ></a-entity>
            
            <!-- Agregar un elemento de texto con el atributo text -->
            <a-entity
                position="0 1.2 0.5"  
                text="value: Gamecube; align: center; width: 3;">
	    </a-entity>
        </a-marker>

    <a-marker
        id="modelado"
        type="barcode"
        value="6"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
    >
    <a-entity
            gltf-model="#topo"
            position="0 1 1"
            scale="1 1 1"
            class="clickable"
            gesture-handler
            soundhandler
    ></a-entity>
        
        <!-- Agregar un elemento de texto con el atributo text -->
        <a-entity
            position="0 1.2 0.5"  
            text="value: Gamecube; align: center; width: 3;">
    </a-entity>
    </a-marker>
	    
        <a-entity id="audio1" sound="src: #song" autoplay="false"></a-entity>
        <a-entity id="audio2" sound="src: #song2" autoplay="false"></a-entity>
        <a-entity id="audio3" sound="src: #song3" autoplay="false"></a-entity>
        <a-entity id="audio4" sound="src: #song4" autoplay="false"></a-entity>
        <a-entity id="audio5" sound="src: #song5" autoplay="false"></a-entity>
        <a-entity id="audio6" sound="src: #song6" autoplay="false"></a-entity>
        
        <a-entity camera></a-entity>
    </a-scene>
    
    <script>
        AFRAME.registerComponent('soundhandler', {
            tick: function () {
                var entity = document.querySelector('#audio1');
                var entity2 = document.querySelector('#audio2');
                var entity3 = document.querySelector('#audio3');
                var entity4 = document.querySelector('#audio4');
                var entity5 = document.querySelector('#audio5');
                var entity5 = document.querySelector('#audio6');

                if (document.querySelector('#logo').object3D.visible == true) {
                    entity2.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                    entity.components.sound.playSound();
                } else if (document.querySelector('#problema').object3D.visible == true) {
                    entity.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                    entity2.components.sound.playSound();
                } else if (document.querySelector('#estadistico').object3D.visible == true) {
                    entity.components.sound.pauseSound();
                    entity2.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                    entity3.components.sound.playSound();
                } else if (document.querySelector('#quees').object3D.visible == true) {
                    entity.components.sound.pauseSound();
                    entity2.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                    entity4.components.sound.playSound();
                } else if (document.querySelector('#agudezavi').object3D.visible == true) {
                    entity.components.sound.pauseSound();
                    entity2.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                    entity5.components.sound.playSound();
                } else if (document.querySelector('#modelado').object3D.visible == true) {
                    entity.components.sound.pauseSound();
                    entity2.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.playSound();
                } else {
                    entity.components.sound.pauseSound();
                    entity2.components.sound.pauseSound();
                    entity3.components.sound.pauseSound();
                    entity4.components.sound.pauseSound();
                    entity5.components.sound.pauseSound();
                    entity6.components.sound.pauseSound();
                }
            }
        });
    </script>
</body>
</html>