<!DOCTYPE html>
<html>

<head>
    <!-- Script de A-Frame versión 1.0.0 -->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <!-- Script de AR.js con soporte de marcador + ubicación -->
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="gesture-handler.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs gesture-detector>
        <a-assets>
            <!-- Cargamos el modelo GLB des de el nuevo enlace -->
            <a-asset-item id="modelo" src="https://cdn.glitch.global/dc44eb7e-d694-4af1-b1ae-dbc770207bf0/colorful_frog__free.glb?v=1697047327665"></a-asset-item>
            <audio id="sound" src="junto.mp3" preload="auto"></audio>
	    
        </a-assets>
      
            <a-marker
        preset="hiro"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        id="markerA"
      >
        <a-entity
          id="bowser-model"
          gltf-model="#modelo"
          position="0 1 1"
          scale="0.5 0.5 0.5"
          class="clickable"
          gesture-handler
          soundhandler
        >
        </a-entity>
      </a-marker>
	<a-entity sound="src: #sound" autoplay="false"></a-entity>
        <a-entity camera></a-entity>
    </a-scene>
    <script>
			AFRAME.registerComponent('soundhandler', {
				tick: function () {
					   var entity = document.querySelector('[sound]');
					 if (document.querySelector('a-marker').object3D.visible == true) {
						entity.components.sound.playSound();
					} else {
						entity.components.sound.pauseSound();
					}

				 }
			});
      </script>
</body>

</html>
